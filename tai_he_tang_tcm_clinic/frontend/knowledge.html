
<!-- tai_he_tang_tcm_clinic/frontend/knowledge.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>中医知识库 - 泰和堂</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.loli.net/css?family=Noto+Serif+SC:400,700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Serif SC', serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
            min-height: 100vh;
        }
        .nav-item:hover {
            transform: translateY(-3px);
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .hero-gradient {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(236,253,245,0.9) 100%);
        }
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .knowledge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .transition-all {
            transition: all 0.3s ease;
        }
        .active-tab {
            border-bottom: 3px solid #047857;
            color: #047857;
            font-weight: bold;
        }
    </style>
</head>
<body class="text-gray-800">
    <!-- 粒子特效背景 -->
    <canvas id="particles" class="particles"></canvas>

    <!-- 导航栏 -->
    <nav class="bg-white bg-opacity-90 shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-bold text-green-800">泰和堂</a>
                    <span class="ml-2 text-sm text-green-600">传统中医 · 现代科技</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="nav-item text-gray-600 hover:text-green-700 transition-all">首页</a>
                    <a href="knowledge.html" class="nav-item text-green-800 font-medium transition-all">中医知识库</a>
                    <a href="virtual-tour.html" class="nav-item text-gray-600 hover:text-green-700 transition-all">虚拟导览</a>
                    <a href="herbs.html" class="nav-item text-gray-600 hover:text-green-700 transition-all">药材展示</a>
                    <a href="#" class="nav-item text-gray-600 hover:text-green-700 transition-all">预约诊疗</a>
                </div>
                <button class="md:hidden focus:outline-none">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- 知识库主内容 -->
    <section class="py-12">
        <div class="container mx-auto px-6">
            <h1 class="text-4xl font-bold text-center text-green-900 mb-8">中医知识库</h1>
            <p class="text-lg text-center text-gray-700 mb-12 max-w-3xl mx-auto">
                传承千年的中医智慧，为您提供常见病症的自我调理方法和养生知识。
            </p>

            <!-- 知识分类导航 -->
            <div class="flex overflow-x-auto pb-2 mb-8 scrollbar-hide">
                <div class="flex space-x-4 mx-auto">
                    <button onclick="filterKnowledge('all')" class="px-6 py-2 rounded-t-lg active-tab transition-all">全部</button>
                    <button onclick="filterKnowledge('digestive')" class="px-6 py-2 rounded-t-lg hover:text-green-800 transition-all">消化系统</button>
                    <button onclick="filterKnowledge('respiratory')" class="px-6 py-2 rounded-t-lg hover:text-green-800 transition-all">呼吸系统</button>
                    <button onclick="filterKnowledge('sleep')" class="px-6 py-2 rounded-t-lg hover:text-green-800 transition-all">睡眠调理</button>
                    <button onclick="filterKnowledge('stress')" class="px-6 py-2 rounded-t-lg hover:text-green-800 transition-all">压力缓解</button>
                    <button onclick="filterKnowledge('immunity')" class="px-6 py-2 rounded-t-lg hover:text-green-800 transition-all">免疫力提升</button>
                </div>
            </div>

            <!-- 搜索框 -->
            <div class="max-w-2xl mx-auto mb-12">
                <div class="relative">
                    <input type="text" id="knowledgeSearch" placeholder="搜索中医知识..." class="w-full px-6 py-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent">
                    <button onclick="searchKnowledge()" class="absolute right-3 top-1/2 transform -translate-y-1/2 bg-green-600 text-white p-2 rounded-full hover:bg-green-700 transition-all">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- 知识卡片 -->
            <div id="knowledgeContainer" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- 知识卡片将通过JavaScript动态加载 -->
            </div>
        </div>
    </section>

    <!-- 底部 -->
    <footer class="bg-green-900 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">泰和堂</h3>
                    <p class="text-green-200">传承中医精髓，融合现代科技，为您提供专业的中医健康服务。</p>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">快速链接</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-green-200 hover:text-white transition-all">首页</a></li>
                        <li><a href="knowledge.html" class="text-green-200 hover:text-white transition-all">中医知识库</a></li>
                        <li><a href="virtual-tour.html" class="text-green-200 hover:text-white transition-all">虚拟导览</a></li>
                        <li><a href="herbs.html" class="text-green-200 hover:text-white transition-all">药材展示</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">联系我们</h3>
                    <ul class="space-y-2">
                        <li class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span>北京市朝阳区中医大道88号</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                            <span>010-88889999</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            <span>info@taihetang.com</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">营业时间</h3>
                    <ul class="space-y-2">
                        <li class="flex justify-between">
                            <span>周一至周五</span>
                            <span>9:00 - 18:00</span>
                        </li>
                        <li class="flex justify-between">
                            <span>周六</span>
                            <span>9:00 - 15:00</span>
                        </li>
                        <li class="flex justify-between">
                            <span>周日</span>
                            <span>休息</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-green-800 mt-8 pt-8 text-center text-green-400">
                <p>© 2025 泰和堂中医馆. 保留所有权利.</p>
            </div>
        </div>
    </footer>

    <script>
        // 粒子特效
        document.addEventListener('DOMContentLoaded', function() {
            const canvas = document.getElementById('particles');
            const ctx = canvas.getContext('2d');
            
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const particles = [];
            const particleCount = window.innerWidth < 768 ? 30 : 60;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 3 + 1,
                    speedX: Math.random() * 1 - 0.5,
                    speedY: Math.random() * 1 - 0.5,
                    color: `rgba(16, 185, 129, ${Math.random() * 0.4 + 0.1})`
                });
            }
            
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                for (let i = 0; i < particles.length; i++) {
                    const p = particles[i];
                    
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fillStyle = p.color;
                    ctx.fill();
                    
                    p.x += p.speedX;
                    p.y += p.speedY;
                    
                    if (p.x < 0 || p.x > canvas.width) p.speedX *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.speedY *= -1;
                }
                
                requestAnimationFrame(animate);
            }
            
            animate();
            
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
            
            // 移动端菜单切换
            const mobileMenuButton = document.querySelector('button.md\\:hidden');
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', function() {
                    const navItems = document.querySelector('.md\\:hidden + .md\\:flex');
                    if (navItems) {
                        navItems.classList.toggle('hidden');
                    }
                });
            }

            // 初始化知识库数据
            initKnowledgeData();
            loadKnowledge('all');
        });

        // 知识库数据
        function initKnowledgeData() {
            if (!localStorage.getItem('tcmKnowledge')) {
                const knowledgeData = [
                    {
                        id: 1,
                        title: "脾胃虚弱调理",
                        category: "digestive",
                        content: "脾胃虚弱表现为食欲不振、腹胀、大便稀溏。调理方法：1. 饮食规律，少食多餐；2. 多吃山药、莲子、薏米等健脾食物；3. 避免生冷油腻；4. 可按摩足三里穴位。",
                        image: "https://picsum.photos/400/300?random=101"
                    },
                    {
                        id: 2,
                        title: "感冒初期调理",
                        category: "respiratory",
                        content: "感冒初期表现为鼻塞、流涕、轻微发热。调理方法：1. 生姜红糖水发汗解表；2. 葱白豆豉汤；3. 热水泡脚至微微出汗；4. 注意保暖休息。",
                        image: "https://picsum.photos/400/300?random=102"
                    },
                    {
                        id: 3,
                        title: "失眠调理",
                        category: "sleep",
                        content: "失眠多由心肾不交或肝郁化火引起。调理方法：1. 睡前热水泡脚；2. 酸枣仁、柏子仁煮水代茶饮；3. 按摩涌泉穴；4. 避免睡前使用电子产品。",
                        image: "https://picsum.photos/400/300?random=103"
                    },
                    {
                        id: 4,
                        title: "工作压力缓解",
                        category: "stress",
                        content: "长期压力导致肝气郁结。调理方法：1. 玫瑰花、菊花代茶饮；2. 适量运动如八段锦；3. 按摩太冲穴；4. 保持规律作息。",
                        image: "https://picsum.photos/400/300?random=104"
                    },
                    {
                        id: 5,
                        title: "提升免疫力",
                        category: "immunity",
                        content: "中医认为正气存内，邪不可干。调理方法：1. 黄芪、枸杞泡水；2. 保证充足睡眠；3. 适度晒太阳；4. 练习太极拳等舒缓运动。",
                        image: "https://picsum.photos/400/300?random=105"
                    },
                    {
                        id: 6,
                        title: "慢性咳嗽调理",
                        category: "respiratory",
                        content: "慢性咳嗽多由肺脾两虚引起。调理方法：1. 百合、银耳炖梨；2. 避免辛辣刺激；3. 按摩肺俞穴；4. 适度有氧运动增强肺功能。",
                        image: "https://picsum.photos/400/300?random=106"
                    }
                ];
                localStorage.setItem('tcmKnowledge', JSON.stringify(knowledgeData));
            }
        }

        // 加载知识库内容
        function loadKnowledge(category) {
            const container = document.getElementById('knowledgeContainer');
            container.innerHTML = '';
            
            const knowledgeData = JSON.parse(localStorage.getItem('tcmKnowledge'));
            let filteredData = knowledgeData;
            
            if (category !== 'all') {
                filteredData = knowledgeData.filter(item => item.category === category);
            }
            
            // 更新标签状态
            const tabs = document.querySelectorAll('.flex.space-x-4 button');
            tabs.forEach(tab => {
                const tabCategory = tab.getAttribute('onclick').replace("filterKnowledge('", "").replace("')", "");
                if (tabCategory === category) {
                    tab.classList.add('active-tab');
                    tab.classList.remove('hover:text-green-800');
                } else {
                    tab.classList.remove('active-tab');
                    tab.classList.add('hover:text-green-800');
                }
            });
            
            if (filteredData.length === 0) {
                container.innerHTML = '<div class="col-span-3 text-center text-gray-500 py-12">暂无相关数据</div>';
                return;
            }
            
            filteredData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'knowledge-card bg-white rounded-xl overflow-hidden shadow-md transition-all';
                card.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-green-800 mb-3">${item.title}</h3>
                        <p class="text-gray-700 mb-4">${item.content}</p>
                        <button onclick="showKnowledgeDetail(${item.id})" class="text-green-700 hover:text-green-900 font-medium transition-all flex items-center">
                            查看详情
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // 筛选知识
        function filterKnowledge(category) {
            loadKnowledge(category);
        }

        // 搜索知识
        function searchKnowledge() {
            const searchTerm = document.getElementById('knowledgeSearch').value.toLowerCase();
            if (!searchTerm) {
                loadKnowledge('all');
                return;
            }
            
            const container = document.getElementById('knowledgeContainer');
            container.innerHTML = '';
            
            const knowledgeData = JSON.parse(localStorage.getItem('tcmKnowledge'));
            const filteredData = knowledgeData.filter(item => 
                item.title.toLowerCase().includes(searchTerm) || 
                item.content.toLowerCase().includes(searchTerm)
            );
            
            if (filteredData.length === 0) {
                container.innerHTML = '<div class="col-span-3 text-center text-gray-500 py-12">没有找到相关结果</div>';
                return;
            }
            
            filteredData.forEach(item => {
                const card = document.createElement('div');
                card.className = 'knowledge-card bg-white rounded-xl overflow-hidden shadow-md transition-all';
                card.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-green-800 mb-3">${item.title}</h3>
                        <p class="text-gray-700 mb-4">${item.content}</p>
                        <button onclick="showKnowledgeDetail(${item.id})" class="text-green-700 hover:text-green-900 font-medium transition-all flex items-center">
                            查看详情
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // 查看知识详情
        function showKnowledgeDetail(id) {
            alert('正在开发中，详情功能即将上线！');
            // 未来可以在这里实现模态框显示详细内容
        }
    </script>
</body>
</html>
